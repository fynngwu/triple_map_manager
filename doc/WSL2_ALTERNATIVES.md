# WSL2 中的简化界面方案

在 WSL2 环境中，原来的 Web 界面可能无法正常工作。本包提供了**自动随机放置**的简化方案，非常适合 WSL2 环境。

## 🎯 功能说明

系统自动完成以下操作：
1. **随机放置 KFS 标记**：按照规则自动生成随机布局
2. **发布到 ROS2**：自动发布 `/kfs_grid_data` 话题
3. **显示网格状态**：在终端中显示 ASCII 艺术网格布局
4. **保持运行**：节点保持活跃，持续监听 ROS2 系统

## 🚀 使用方法

### 1. 启动系统

```bash
cd ~/ros2_ws
source install/setup.bash
ros2 launch triple_map_manager kfs_console.launch.py
```

### 2. 自动执行

启动后，系统会自动：
- 随机放置 3个 KFS1（蓝色）
- 随机放置 4个 KFS2（红色）
- 随机放置 1个 KFS Fake（灰色）
- 发布到 `/kfs_grid_data` 话题
- 在终端显示网格布局

### 3. 输出示例

```
KFS Console Node started
Random placement: 3 KFS1, 4 KFS2, 1 KFS Fake
Published grid data to /kfs_grid_data

============================================================
KFS Grid State (4 rows × 3 columns)
============================================================
     Column 0   Column 1   Column 2
     ----------------------------------------
R0 | [KFS1]   [    ]   [    ]
R1 | [    ]   [KFS2]   [KFS1]
R2 | [KFS2]   [    ]   [KFS2]
R3 | [    ]   [KFS2]   [FAKE]
Counts: KFS1=2/3, KFS2=4/4, KFS Fake=1/1
============================================================
```

### 4. 查看可视化

在 RViz2 中查看 `/map2_kfs_markers` 话题的可视化标记。

## 📋 放置规则

系统自动遵循以下放置规则：

- **KFS1**（蓝色）：
  - 只能放在左列或右列（第0列或第2列）
  - 最多3个
  
- **KFS2**（红色）：
  - 不能放在第0行
  - 最多4个
  
- **KFS Fake**（灰色）：
  - 不能放在第0行
  - 最多1个

## ✅ 优势

- **零配置**：无需 X11、Wayland 或浏览器
- **自动执行**：无需用户交互
- **适合 WSL2**：纯文本界面，无需图形
- **符合规则**：自动遵循所有放置约束
- **即时使用**：启动即自动发布数据

## 📝 技术细节

- **网格尺寸**：4行 × 3列
- **话题名称**：`/kfs_grid_data`
- **消息类型**：`std_msgs/String` (JSON 格式)
- **可视化话题**：`/map2_kfs_markers` (MarkerArray)

## ❓ 常见问题

### Q: 能否手动放置标记？
A: 当前版本为自动随机放置版本，适合快速测试和演示。

### Q: 如何查看放置结果？
A: 启动 RViz2 并订阅 `/map2_kfs_markers` 话题，即可看到彩色标记。

### Q: 能否重新随机放置？
A: 重新启动 launch 文件即可生成新的随机布局。

### Q: 每次的布局都一样吗？
A: 不会，每次启动都会生成新的随机布局。

